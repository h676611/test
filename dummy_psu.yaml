spec: "1.0"

devices:
  HMP4040:
    eom:
      ASRL INSTR:
        q: "\r\n"
        r: "\n"
    error: "DUMMY ERROR"
    dialogues:
      - q: "*IDN?"
        r: "Rohde&Schwarz,HMP4040,DUMMY,SIM"
      - q: "INST:NSEL?"
        r: "1"
      - q: "MEAS:VOLT?"
        r: "{:.2f}"
      - q: "MEAS:CURR?"
        r: "{:.2f}"
      - q: "OUTP:SEL?"
        r: "ON"
      - q: "OUTP:STATe?"
        r: "ON"
      - q: "SYST:LOC"
        r: "OK"
      - q: "SYST:REM"
        r: "OK"
      - q: "SYST:MIX"
        r: "OK"
    properties:
      channel:
        default: 1
        getter:
          q: "INST:NSEL?"
          r: "{:d}"
        setter:
          q: "INST OUT {:d}"
          r: "OK"
        specs:
          min: 1
          max: 4
          type: int
      voltage:
        default: 0.0
        getter:
          q: "MEAS:VOLT?"
          r: "{:.2f}"
        setter:
          q: "VOLT {:.2f}"
          r: "OK"
        specs:
          min: 0.0
          max: 32.0
          type: float
      current:
        default: 0.0
        getter:
          q: "MEAS:CURR?"
          r: "{:.2f}"
        setter:
          q: "CURR {:.2f}"
          r: "OK"
        specs:
          min: 0.0
          max: 5.0
          type: float

resources:
  ASRL1::INSTR:
    device: HMP4040
  ASRL2::INSTR:
    device: HMP4040
